Passed 6609 of 6806 tests

FAIL: PLAINTEXT content model flag
 input: "<head>&body;"
 actual:   [["StartTag","head",{}],["Character","—á"]]
 expected: [["Character","<head>&body;"]]
FAIL: PLAINTEXT with seeming close tag
 input: "</plaintext>&body;"
 actual:   [["EndTag","plaintext"],["Character","—á"]]
 expected: [["Character","</plaintext>&body;"]]
FAIL: End tag closing RCDATA or RAWTEXT (ending with EOF)
 input: "foo</xmp"
 actual:   [["Character","foo"]]
 expected: [["Character","foo</xmp"]]
FAIL: End tag not closing RCDATA or RAWTEXT (ending with left-angle-bracket)
 input: "foo</xmp<"
 actual:   [["Character","foo"]]
 expected: [["Character","foo</xmp<"]]
FAIL: End tag with incorrect name in RCDATA or RAWTEXT
 input: "</foo>bar</xmp>"
 actual:   [["EndTag","foo"],["Character","bar"],["EndTag","xmp"]]
 expected: [["Character","</foo>bar"],["EndTag","xmp"]]
FAIL: Partial end tags leading straight into partial end tags
 input: "</xmp</xmp</xmp>"
 actual:   [["EndTag","xmp<"]]
 expected: [["Character","</xmp</xmp"],["EndTag","xmp"]]
FAIL: End tag with incorrect name in RCDATA or RAWTEXT (starting like correct name)
 input: "</foo>bar</xmpaar>"
 actual:   [["EndTag","foo"],["Character","bar"],["EndTag","xmpaar"]]
 expected: [["Character","</foo>bar</xmpaar>"]]
FAIL: RAWTEXT w/ something looking like an entity
 input: "&foo;"
 actual:   [["Character","‚™å"]]
 expected: [["Character","&foo;"]]
FAIL: CR in bogus comment state
 input: "<?"
 actual:   [["Character","<?\n"]]
 expected: [["Comment","?\n"]]
FAIL: CRLF in bogus comment state
 input: "<?
"
 actual:   [["Character","<?\n"]]
 expected: [["Comment","?\n"]]
FAIL: CRLFLF in bogus comment state
 input: "<?

"
 actual:   [["Character","<?\n\n"]]
 expected: [["Comment","?\n\n"]]
FAIL: Raw NUL replacement
 input: "\u0000"
 actual:   [["Character","\\u0000"]]
 expected: [["Character","\\uFFFD"]]
FAIL: NUL in CDATA section
 input: "\u0000]]>"
 actual:   [["Character","\\u0000]]>"]]
 expected: [["Character","\\u0000"]]
FAIL: NUL in script HTML comment
 input: "<!--test\u0000--><!--test-\u0000--><!--test--\u0000-->"
 actual:   [["Comment","test\\u0000"],["Comment","test-\\u0000"],["Comment","test--\\u0000"]]
 expected: [["Character","<!--test\\uFFFD--><!--test-\\uFFFD--><!--test--\\uFFFD-->"]]
FAIL: NUL in script HTML comment - double escaped
 input: "<!--<script>\u0000--><!--<script>-\u0000--><!--<script>--\u0000-->"
 actual:   [["Comment","<script>\\u0000"],["Comment","<script>-\\u0000"],["Comment","<script>--\\u0000"]]
 expected: [["Character","<!--<script>\\uFFFD--><!--<script>-\\uFFFD--><!--<script>--\\uFFFD-->"]]
FAIL: EOF in script HTML comment
 input: "<!--test"
 actual:   [["Comment","test"]]
 expected: [["Character","<!--test"]]
FAIL: EOF in script HTML comment after dash
 input: "<!--test-"
 actual:   [["Comment","test"]]
 expected: [["Character","<!--test-"]]
FAIL: EOF in script HTML comment after dash dash
 input: "<!--test--"
 actual:   [["Comment","test"]]
 expected: [["Character","<!--test--"]]
FAIL: EOF in script HTML comment double escaped after dash
 input: "<!--<script>-"
 actual:   [["Comment","<script>"]]
 expected: [["Character","<!--<script>-"]]
FAIL: EOF in script HTML comment double escaped after dash dash
 input: "<!--<script>--"
 actual:   [["Comment","<script>"]]
 expected: [["Character","<!--<script>--"]]
FAIL: EOF in script HTML comment - double escaped
 input: "<!--<script>"
 actual:   [["Comment","<script>"]]
 expected: [["Character","<!--<script>"]]
FAIL: Dash in script HTML comment
 input: "<!-- - -->"
 actual:   [["Comment"," - "]]
 expected: [["Character","<!-- - -->"]]
FAIL: Dash less-than in script HTML comment
 input: "<!-- -< -->"
 actual:   [["Comment"," -< "]]
 expected: [["Character","<!-- -< -->"]]
FAIL: Dash at end of script HTML comment
 input: "<!--test--->"
 actual:   [["Comment","test-"]]
 expected: [["Character","<!--test--->"]]
FAIL: </script> in script HTML comment
 input: "<!-- </script> --></script>"
 actual:   [["Comment"," </script> "],["EndTag","script"]]
 expected: [["Character","<!-- "],["EndTag","script"],["Character"," -->"],["EndTag","script"]]
FAIL: </script> in script HTML comment - double escaped
 input: "<!-- <script></script> --></script>"
 actual:   [["Comment"," <script></script> "],["EndTag","script"]]
 expected: [["Character","<!-- <script></script> -->"],["EndTag","script"]]
FAIL: </script> in script HTML comment - double escaped with nested <script>
 input: "<!-- <script><script></script></script> --></script>"
 actual:   [["Comment"," <script><script></script></script> "],["EndTag","script"]]
 expected: [["Character","<!-- <script><script></script>"],["EndTag","script"],["Character"," -->"],["EndTag","script"]]
FAIL: </script> in script HTML comment - double escaped with abrupt end
 input: "<!-- <script>--></script> --></script>"
 actual:   [["Comment"," <script>"],["EndTag","script"],["Character"," -->"],["EndTag","script"]]
 expected: [["Character","<!-- <script>-->"],["EndTag","script"],["Character"," -->"],["EndTag","script"]]
FAIL: Incomplete start tag in script HTML comment double escaped
 input: "<!--<scrip></script>-->"
 actual:   [["Comment","<scrip></script>"]]
 expected: [["Character","<!--<scrip>"],["EndTag","script"],["Character","-->"]]
FAIL: Unclosed start tag in script HTML comment double escaped
 input: "<!--<script</script>-->"
 actual:   [["Comment","<script</script>"]]
 expected: [["Character","<!--<script"],["EndTag","script"],["Character","-->"]]
FAIL: Incomplete end tag in script HTML comment double escaped
 input: "<!--<script></scrip>-->"
 actual:   [["Comment","<script></scrip>"]]
 expected: [["Character","<!--<script></scrip>-->"]]
FAIL: Unclosed end tag in script HTML comment double escaped
 input: "<!--<script></script-->"
 actual:   [["Comment","<script></script"]]
 expected: [["Character","<!--<script></script-->"]]
FAIL: Bad charref in RCDATA
 input: "&NotEqualTild;"
 actual:   [["Character","‚âèÃ∏"]]
 expected: [["Character","&NotEqualTild;"]]
FAIL: bad endtag (space before name)
 input: "</ XMP>"
 actual:   [["Comment"," XMP"]]
 expected: [["Character","</ XMP>"]]
FAIL: bad endtag (not matching last start tag)
 input: "</xm>"
 actual:   [["EndTag","xm"]]
 expected: [["Character","</xm>"]]
FAIL: bad endtag (without close bracket)
 input: "</xm "
 actual:   []
 expected: [["Character","</xm "]]
FAIL: bad endtag (trailing solidus)
 input: "</xm/"
 actual:   []
 expected: [["Character","</xm/"]]
FAIL: --!NUL in comment 
 input: "<!----!\u0000-->"
 actual:   [["Comment","--!\\u0000"]]
 expected: [["Comment","--!\\uFFFD"]]
FAIL: CDATA content
 input: "foo&#32;]]>"
 actual:   [["Character","foo ]]>"]]
 expected: [["Character","foo&#32;"]]
FAIL: CDATA followed by HTML content
 input: "foo&#32;]]>&#32;"
 actual:   [["Character","foo ]]> "]]
 expected: [["Character","foo&#32; "]]
FAIL: CDATA with extra bracket
 input: "foo]]]>"
 actual:   [["Character","foo]]]>"]]
 expected: [["Character","foo]"]]
FAIL: HTML tag in script data
 input: "<b>hello world</b>"
 actual:   [["StartTag","b",{}],["Character","hello world"],["EndTag","b"]]
 expected: [["Character","<b>hello world</b>"]]
FAIL: Semicolonless named entity 'not' followed by 'i;' in body
 input: "&noti;"
 actual:   [["Character","‚à¶"]]
 expected: [["Character","¬¨i;"]]
FAIL: Commented close tag in RCDATA or RAWTEXT
 input: "foo<!--</xmp>--></xmp>"
 actual:   [["Character","foo"],["Comment","</xmp>"],["EndTag","xmp"]]
 expected: [["Character","foo<!--"],["EndTag","xmp"],["Character","-->"],["EndTag","xmp"]]
FAIL: Bogus comment in RCDATA or RAWTEXT
 input: "foo<!-->baz</xmp>"
 actual:   [["Character","foo"],["Comment",""],["Character","baz"],["EndTag","xmp"]]
 expected: [["Character","foo<!-->baz"],["EndTag","xmp"]]
FAIL: End tag surrounded by bogus comment in RCDATA or RAWTEXT
 input: "foo<!--></xmp><!-->baz</xmp>"
 actual:   [["Character","foo"],["Comment",""],["EndTag","xmp"],["Comment",""],["Character","baz"],["EndTag","xmp"]]
 expected: [["Character","foo<!-->"],["EndTag","xmp"],["Comment",""],["Character","baz"],["EndTag","xmp"]]
FAIL: Commented entities in RCDATA
 input: " &amp; <!-- &amp; --> &amp; </xmp>"
 actual:   [["Character"," ‚ä¥ --> & "],["EndTag","xmp"]]
 expected: [["Character"," & <!-- & --> & "],["EndTag","xmp"]]
FAIL: Incorrect comment ending sequences in RCDATA or RAWTEXT
 input: "foo<!-- x --x>x-- >x--!>x--<></xmp>"
 actual:   [["Character","foo"],["Comment"," x --x>x-- >x"],["Character","x--<>"],["EndTag","xmp"]]
 expected: [["Character","foo<!-- x --x>x-- >x--!>x--<>"],["EndTag","xmp"]]
FAIL: Named entity: zwnj; with a semi-colon
 input: "&zwnj;"
 actual:   [["Character","&zwnj;"]]
 expected: [["Character","‚Äå"]]
FAIL: Invalid numeric entity character U+1FFFE
 input: "&#x1fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","üøæ"]]
FAIL: Invalid numeric entity character U+1FFFF
 input: "&#x1ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","üøø"]]
FAIL: Invalid numeric entity character U+2FFFE
 input: "&#x2fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Øøæ"]]
FAIL: Invalid numeric entity character U+2FFFF
 input: "&#x2ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Øøø"]]
FAIL: Invalid numeric entity character U+3FFFE
 input: "&#x3fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","øøæ"]]
FAIL: Invalid numeric entity character U+3FFFF
 input: "&#x3ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","øøø"]]
FAIL: Invalid numeric entity character U+4FFFE
 input: "&#x4fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òèøæ"]]
FAIL: Invalid numeric entity character U+4FFFF
 input: "&#x4ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òèøø"]]
FAIL: Invalid numeric entity character U+5FFFE
 input: "&#x5fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òüøæ"]]
FAIL: Invalid numeric entity character U+5FFFF
 input: "&#x5ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òüøø"]]
FAIL: Invalid numeric entity character U+6FFFE
 input: "&#x6fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒØøæ"]]
FAIL: Invalid numeric entity character U+6FFFF
 input: "&#x6ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒØøø"]]
FAIL: Invalid numeric entity character U+7FFFE
 input: "&#x7fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òøøæ"]]
FAIL: Invalid numeric entity character U+7FFFF
 input: "&#x7ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Òøøø"]]
FAIL: Invalid numeric entity character U+8FFFE
 input: "&#x8fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úèøæ"]]
FAIL: Invalid numeric entity character U+8FFFF
 input: "&#x8ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úèøø"]]
FAIL: Invalid numeric entity character U+9FFFE
 input: "&#x9fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úüøæ"]]
FAIL: Invalid numeric entity character U+9FFFF
 input: "&#x9ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úüøø"]]
FAIL: Invalid numeric entity character U+AFFFE
 input: "&#xafffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚØøæ"]]
FAIL: Invalid numeric entity character U+AFFFF
 input: "&#xaffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚØøø"]]
FAIL: Invalid numeric entity character U+BFFFE
 input: "&#xbfffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úøøæ"]]
FAIL: Invalid numeric entity character U+BFFFF
 input: "&#xbffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Úøøø"]]
FAIL: Invalid numeric entity character U+CFFFE
 input: "&#xcfffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûèøæ"]]
FAIL: Invalid numeric entity character U+CFFFF
 input: "&#xcffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûèøø"]]
FAIL: Invalid numeric entity character U+DFFFE
 input: "&#xdfffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûüøæ"]]
FAIL: Invalid numeric entity character U+DFFFF
 input: "&#xdffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûüøø"]]
FAIL: Invalid numeric entity character U+EFFFE
 input: "&#xefffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛØøæ"]]
FAIL: Invalid numeric entity character U+EFFFF
 input: "&#xeffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛØøø"]]
FAIL: Invalid numeric entity character U+FFFFE
 input: "&#xffffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûøøæ"]]
FAIL: Invalid numeric entity character U+FFFFF
 input: "&#xfffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ûøøø"]]
FAIL: Invalid numeric entity character U+10FFFE
 input: "&#x10fffe;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ùèøæ"]]
FAIL: Invalid numeric entity character U+10FFFF
 input: "&#x10ffff;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ùèøø"]]
FAIL: Valid numeric entity character U+1FFFD
 input: "&#x1fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","üøΩ"]]
FAIL: Valid numeric entity character U+20000
 input: "&#x20000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","†ÄÄ"]]
FAIL: Valid numeric entity character U+2FFFD
 input: "&#x2fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ØøΩ"]]
FAIL: Valid numeric entity character U+30000
 input: "&#x30000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","∞ÄÄ"]]
FAIL: Valid numeric entity character U+3FFFD
 input: "&#x3fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","øøΩ"]]
FAIL: Valid numeric entity character U+40000
 input: "&#x40000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒÄÄÄ"]]
FAIL: Valid numeric entity character U+4FFFD
 input: "&#x4fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒèøΩ"]]
FAIL: Valid numeric entity character U+50000
 input: "&#x50000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒêÄÄ"]]
FAIL: Valid numeric entity character U+5FFFD
 input: "&#x5fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒüøΩ"]]
FAIL: Valid numeric entity character U+60000
 input: "&#x60000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ò†ÄÄ"]]
FAIL: Valid numeric entity character U+6FFFD
 input: "&#x6fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒØøΩ"]]
FAIL: Valid numeric entity character U+70000
 input: "&#x70000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ò∞ÄÄ"]]
FAIL: Valid numeric entity character U+7FFFD
 input: "&#x7fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÒøøΩ"]]
FAIL: Valid numeric entity character U+80000
 input: "&#x80000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚÄÄÄ"]]
FAIL: Valid numeric entity character U+8FFFD
 input: "&#x8fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚèøΩ"]]
FAIL: Valid numeric entity character U+90000
 input: "&#x90000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚêÄÄ"]]
FAIL: Valid numeric entity character U+9FFFD
 input: "&#x9fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚüøΩ"]]
FAIL: Valid numeric entity character U+A0000
 input: "&#xa0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ú†ÄÄ"]]
FAIL: Valid numeric entity character U+AFFFD
 input: "&#xafffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚØøΩ"]]
FAIL: Valid numeric entity character U+B0000
 input: "&#xb0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ú∞ÄÄ"]]
FAIL: Valid numeric entity character U+BFFFD
 input: "&#xbfffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÚøøΩ"]]
FAIL: Valid numeric entity character U+C0000
 input: "&#xc0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛÄÄÄ"]]
FAIL: Valid numeric entity character U+CFFFD
 input: "&#xcfffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛèøΩ"]]
FAIL: Valid numeric entity character U+D0000
 input: "&#xd0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛêÄÄ"]]
FAIL: Valid numeric entity character U+DFFFD
 input: "&#xdfffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛüøΩ"]]
FAIL: Valid numeric entity character U+E0000
 input: "&#xe0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Û†ÄÄ"]]
FAIL: Valid numeric entity character U+EFFFD
 input: "&#xefffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛØøΩ"]]
FAIL: Valid numeric entity character U+F0000
 input: "&#xf0000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Û∞ÄÄ"]]
FAIL: Valid numeric entity character U+FFFFD
 input: "&#xffffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÛøøΩ"]]
FAIL: Valid numeric entity character U+100000
 input: "&#x100000;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÙÄÄÄ"]]
FAIL: Valid numeric entity character U+10FFFD
 input: "&#x10fffd;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","ÙèøΩ"]]
FAIL: Multiple atts
 input: "<h a='b' c='d'>"
 actual:   [["StartTag","h",{"c":"'d'"}]]
 expected: [["StartTag","h",{"a":"b","c":"d"}]]
FAIL: Multiple atts no space
 input: "<h a='b'c='d'>"
 actual:   [["StartTag","h",{"a":"'b'c='d'"}]]
 expected: [["StartTag","h",{"a":"b","c":"d"}]]
FAIL: < in script data
 input: "<test-->"
 actual:   [["StartTag","test--",{}]]
 expected: [["Character","<test-->"]]
FAIL: <! in script data
 input: "<!test-->"
 actual:   [["Comment","test--"]]
 expected: [["Character","<!test-->"]]
FAIL: <!- in script data
 input: "<!-test-->"
 actual:   [["Comment","-test--"]]
 expected: [["Character","<!-test-->"]]
FAIL: Escaped script data
 input: "<!--test-->"
 actual:   [["Comment","test"]]
 expected: [["Character","<!--test-->"]]
FAIL: < in script HTML comment
 input: "<!-- < test -->"
 actual:   [["Comment"," < test "]]
 expected: [["Character","<!-- < test -->"]]
FAIL: </ in script HTML comment
 input: "<!-- </ test -->"
 actual:   [["Comment"," </ test "]]
 expected: [["Character","<!-- </ test -->"]]
FAIL: Start tag in script HTML comment
 input: "<!-- <test> -->"
 actual:   [["Comment"," <test> "]]
 expected: [["Character","<!-- <test> -->"]]
FAIL: End tag in script HTML comment
 input: "<!-- </test> -->"
 actual:   [["Comment"," </test> "]]
 expected: [["Character","<!-- </test> -->"]]
FAIL: - in script HTML comment double escaped
 input: "<!--<script>-</script>-->"
 actual:   [["Comment","<script>-</script>"]]
 expected: [["Character","<!--<script>-</script>-->"]]
FAIL: -- in script HTML comment double escaped
 input: "<!--<script>--</script>-->"
 actual:   [["Comment","<script>--</script>"]]
 expected: [["Character","<!--<script>--</script>-->"]]
FAIL: --- in script HTML comment double escaped
 input: "<!--<script>---</script>-->"
 actual:   [["Comment","<script>---</script>"]]
 expected: [["Character","<!--<script>---</script>-->"]]
FAIL: - spaced in script HTML comment double escaped
 input: "<!--<script> - </script>-->"
 actual:   [["Comment","<script> - </script>"]]
 expected: [["Character","<!--<script> - </script>-->"]]
FAIL: -- spaced in script HTML comment double escaped
 input: "<!--<script> -- </script>-->"
 actual:   [["Comment","<script> -- </script>"]]
 expected: [["Character","<!--<script> -- </script>-->"]]
FAIL: Unquoted attribute ending in ampersand
 input: "<s o=& t>"
 actual:   [["StartTag","s",{"t":""}]]
 expected: [["StartTag","s",{"o":"&","t":""}]]
FAIL: Simili processing instruction
 input: "<?namespace>"
 actual:   [["Character","<?namespace>"]]
 expected: [["Comment","?namespace"]]
FAIL: A bogus comment stops at >, even if preceeded by two dashes
 input: "<?foo-->"
 actual:   [["Character","<?foo-->"]]
 expected: [["Comment","?foo--"]]
FAIL: <?
 input: "<?"
 actual:   [["Character","<?"]]
 expected: [["Comment","?"]]
FAIL: <?\u0000
 input: "<?˝"
 actual:   [["Character","<?\u0000"]]
 expected: [["Comment","?ÔøΩ"]]
FAIL: <?\u0009
 input: "<?˝"
 actual:   [["Character","<?\t"]]
 expected: [["Comment","?\t"]]
FAIL: <?\u000A
 input: "<?
"
 actual:   [["Character","<?\n"]]
 expected: [["Comment","?\n"]]
FAIL: <?\u000B
 input: "<?˝"
 actual:   [["Character","<?\u000b"]]
 expected: [["Comment","?\u000b"]]
FAIL: <?\u000C
 input: "<?˝"
 actual:   [["Character","<?\f"]]
 expected: [["Comment","?\f"]]
FAIL: <? 
 input: "<? "
 actual:   [["Character","<? "]]
 expected: [["Comment","? "]]
FAIL: <? \u0000
 input: "<? ˝"
 actual:   [["Character","<? \u0000"]]
 expected: [["Comment","? ÔøΩ"]]
FAIL: <?!
 input: "<?!"
 actual:   [["Character","<?!"]]
 expected: [["Comment","?!"]]
FAIL: <?"
 input: "<?""
 actual:   [["Character","<?\""]]
 expected: [["Comment","?\""]]
FAIL: <?&
 input: "<?&"
 actual:   [["Character","<?&"]]
 expected: [["Comment","?&"]]
FAIL: <?'
 input: "<?'"
 actual:   [["Character","<?'"]]
 expected: [["Comment","?'"]]
FAIL: <?-
 input: "<?-"
 actual:   [["Character","<?-"]]
 expected: [["Comment","?-"]]
FAIL: <?/
 input: "<?/"
 actual:   [["Character","<?/"]]
 expected: [["Comment","?/"]]
FAIL: <?0
 input: "<?0"
 actual:   [["Character","<?0"]]
 expected: [["Comment","?0"]]
FAIL: <?1
 input: "<?1"
 actual:   [["Character","<?1"]]
 expected: [["Comment","?1"]]
FAIL: <?9
 input: "<?9"
 actual:   [["Character","<?9"]]
 expected: [["Comment","?9"]]
FAIL: <?<
 input: "<?<"
 actual:   [["Character","<?<"]]
 expected: [["Comment","?<"]]
FAIL: <?=
 input: "<?="
 actual:   [["Character","<?="]]
 expected: [["Comment","?="]]
FAIL: <?>
 input: "<?>"
 actual:   [["Character","<?>"]]
 expected: [["Comment","?"]]
FAIL: <??
 input: "<??"
 actual:   [["Character","<??"]]
 expected: [["Comment","??"]]
FAIL: <?@
 input: "<?@"
 actual:   [["Character","<?@"]]
 expected: [["Comment","?@"]]
FAIL: <?A
 input: "<?A"
 actual:   [["Character","<?A"]]
 expected: [["Comment","?A"]]
FAIL: <?B
 input: "<?B"
 actual:   [["Character","<?B"]]
 expected: [["Comment","?B"]]
FAIL: <?Y
 input: "<?Y"
 actual:   [["Character","<?Y"]]
 expected: [["Comment","?Y"]]
FAIL: <?Z
 input: "<?Z"
 actual:   [["Character","<?Z"]]
 expected: [["Comment","?Z"]]
FAIL: <?`
 input: "<?`"
 actual:   [["Character","<?`"]]
 expected: [["Comment","?`"]]
FAIL: <?a
 input: "<?a"
 actual:   [["Character","<?a"]]
 expected: [["Comment","?a"]]
FAIL: <?b
 input: "<?b"
 actual:   [["Character","<?b"]]
 expected: [["Comment","?b"]]
FAIL: <?y
 input: "<?y"
 actual:   [["Character","<?y"]]
 expected: [["Comment","?y"]]
FAIL: <?z
 input: "<?z"
 actual:   [["Character","<?z"]]
 expected: [["Comment","?z"]]
FAIL: <?{
 input: "<?{"
 actual:   [["Character","<?{"]]
 expected: [["Comment","?{"]]
FAIL: <?\uDBC0\uDC00
 input: "<?ÙÄÄÄ"
 actual:   [["Character","<?ÙÄÄÄ"]]
 expected: [["Comment","?ÙÄÄÄ"]]
FAIL: <a a A>
 input: "<a a A>"
 actual:   [["StartTag","a",{"a":"","A":""}]]
 expected: [["StartTag","a",{"a":""}]]
FAIL: <a a=">">
 input: "<a a=">">"
 actual:   [["StartTag","a",{"a":"\""}],["Character","\">"]]
 expected: [["StartTag","a",{"a":">"}]]
FAIL: <a a=''\u0000>
 input: "<a a=''˝>"
 actual:   [["StartTag","a",{"a":"''\u0000"}]]
 expected: [["StartTag","a",{"a":"","ÔøΩ":""}]]
FAIL: <a a=''\u0008>
 input: "<a a=''˝>"
 actual:   [["StartTag","a",{"a":"''\b"}]]
 expected: [["StartTag","a",{"a":"","\b":""}]]
FAIL: <a a=''\u000B>
 input: "<a a=''˝>"
 actual:   [["StartTag","a",{"a":"''\u000b"}]]
 expected: [["StartTag","a",{"a":"","\u000b":""}]]
FAIL: <a a=''\u001F>
 input: "<a a=''˝>"
 actual:   [["StartTag","a",{"a":"''\u001f"}]]
 expected: [["StartTag","a",{"a":"","\u001f":""}]]
FAIL: <a a=''!>
 input: "<a a=''!>"
 actual:   [["StartTag","a",{"a":"''!"}]]
 expected: [["StartTag","a",{"a":"","!":""}]]
FAIL: <a a=''">
 input: "<a a=''">"
 actual:   [["StartTag","a",{"a":"''\""}]]
 expected: [["StartTag","a",{"a":"","\"":""}]]
FAIL: <a a=''&>
 input: "<a a=''&>"
 actual:   [["StartTag","a",{"a":"''&"}]]
 expected: [["StartTag","a",{"a":"","&":""}]]
FAIL: <a a='''>
 input: "<a a='''>"
 actual:   [["StartTag","a",{"a":"'''"}]]
 expected: [["StartTag","a",{"a":"","'":""}]]
FAIL: <a a=''->
 input: "<a a=''->"
 actual:   [["StartTag","a",{"a":"''-"}]]
 expected: [["StartTag","a",{"a":"","-":""}]]
FAIL: <a a=''.>
 input: "<a a=''.>"
 actual:   [["StartTag","a",{"a":"''."}]]
 expected: [["StartTag","a",{"a":"",".":""}]]
FAIL: <a a=''0>
 input: "<a a=''0>"
 actual:   [["StartTag","a",{"a":"''0"}]]
 expected: [["StartTag","a",{"a":"","0":""}]]
FAIL: <a a=''1>
 input: "<a a=''1>"
 actual:   [["StartTag","a",{"a":"''1"}]]
 expected: [["StartTag","a",{"a":"","1":""}]]
FAIL: <a a=''9>
 input: "<a a=''9>"
 actual:   [["StartTag","a",{"a":"''9"}]]
 expected: [["StartTag","a",{"a":"","9":""}]]
FAIL: <a a=''<>
 input: "<a a=''<>"
 actual:   [["StartTag","a",{"a":"''<"}]]
 expected: [["StartTag","a",{"a":"","<":""}]]
FAIL: <a a=''=>
 input: "<a a=''=>"
 actual:   [["StartTag","a",{"a":"''="}]]
 expected: [["StartTag","a",{"a":"","=":""}]]
FAIL: <a a=''?>
 input: "<a a=''?>"
 actual:   [["StartTag","a",{"a":"''?"}]]
 expected: [["StartTag","a",{"a":"","?":""}]]
FAIL: <a a=''@>
 input: "<a a=''@>"
 actual:   [["StartTag","a",{"a":"''@"}]]
 expected: [["StartTag","a",{"a":"","@":""}]]
FAIL: <a a=''B>
 input: "<a a=''B>"
 actual:   [["StartTag","a",{"a":"''B"}]]
 expected: [["StartTag","a",{"a":"","b":""}]]
FAIL: <a a=''Y>
 input: "<a a=''Y>"
 actual:   [["StartTag","a",{"a":"''Y"}]]
 expected: [["StartTag","a",{"a":"","y":""}]]
FAIL: <a a=''Z>
 input: "<a a=''Z>"
 actual:   [["StartTag","a",{"a":"''Z"}]]
 expected: [["StartTag","a",{"a":"","z":""}]]
FAIL: <a a=''`>
 input: "<a a=''`>"
 actual:   [["StartTag","a",{"a":"''`"}]]
 expected: [["StartTag","a",{"a":"","`":""}]]
FAIL: <a a=''b>
 input: "<a a=''b>"
 actual:   [["StartTag","a",{"a":"''b"}]]
 expected: [["StartTag","a",{"a":"","b":""}]]
FAIL: <a a=''y>
 input: "<a a=''y>"
 actual:   [["StartTag","a",{"a":"''y"}]]
 expected: [["StartTag","a",{"a":"","y":""}]]
FAIL: <a a=''z>
 input: "<a a=''z>"
 actual:   [["StartTag","a",{"a":"''z"}]]
 expected: [["StartTag","a",{"a":"","z":""}]]
FAIL: <a a=''{>
 input: "<a a=''{>"
 actual:   [["StartTag","a",{"a":"''{"}]]
 expected: [["StartTag","a",{"a":"","{":""}]]
FAIL: <a a=''\uDBC0\uDC00>
 input: "<a a=''ÙÄÄÄ>"
 actual:   [["StartTag","a",{"a":"''ÙÄÄÄ"}]]
 expected: [["StartTag","a",{"a":"","ÙÄÄÄ":""}]]
FAIL: <a a='>'>
 input: "<a a='>'>"
 actual:   [["StartTag","a",{"a":"'"}],["Character","'>"]]
 expected: [["StartTag","a",{"a":">"}]]
FAIL: Double-quoted attribute value not followed by whitespace
 input: "<foo a="b"c>"
 actual:   [["StartTag","foo",{"a":"\"b\"c"}]]
 expected: [["StartTag","foo",{"a":"b","c":""}]]
FAIL: Single-quoted attribute value not followed by whitespace
 input: "<foo a='b'c>"
 actual:   [["StartTag","foo",{"a":"'b'c"}]]
 expected: [["StartTag","foo",{"a":"b","c":""}]]
FAIL: Maximum non-BMP numeric entity
 input: "&#X10FFFF;"
 actual:   [["Character","ÔøΩ"]]
 expected: [["Character","Ùèøø"]]
FAIL: 65-bit hex numeric entity
 input: "&#x10000000000000041;"
 actual:   [["Character","A"]]
 expected: [["Character","ÔøΩ"]]
FAIL: 65-bit decimal numeric entity
 input: "&#18446744073709551681;"
 actual:   [["Character","A"]]
 expected: [["Character","ÔøΩ"]]
